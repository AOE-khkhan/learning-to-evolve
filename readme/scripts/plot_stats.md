# Plotting

evaluation/plot_stats.py [options] _output-file_ _input-files_  

Reads data from stats.npy files generated by apply_solver.py (_input-files_), generates a plot and stores it in _output-file_.  
Each file must assigned a label, using _--label_ in the order of the _input-files_.  

Can be used in two modes:  
  * Normal mode:
  * Training progress mode:

## Normal mode
In normal mode, you can plot the mean or median best fitness / function value for each generation, with one graph per input file.  
Normally, the mean/median is taken across all runs and problem instances.  
Optionally, you can plot for a specific problem instance, a specific run, or both. You can also create a separate graph for each
problem instance at once.

The input-files must be stats.npy files.

Options relevant for normal mode:

* --resolution: Only every "resolution"th generation is plotted
* --individual-problems: For each stats file, a graph is created for every problem instance

## Training progress mode
In training progress mode, the terminal mean or median best fitness / function value is plotted, with one graph per trained evolutionary algorithm.
Normally, the mean/median is taken across all runs and problem instances.
Optionally, you can print for a specific problem instance, a specific run, or both.

The input-files must be folders containing the stats.npy files for the validation of a specific training session.

The data from the last input-file is treated as the benchmark performance and plotted as a black dotted line.

Options relevant for training progres mode:

* --training-progress: Activate the training progress mode
* --num-training-iterations: Number of iterations that training was performed for. Used for proper x-label ticks.
* --num-agents: Number of evolutionary algorithms trained with the same parameters. All agents are plotted with the same graph color and label. Requires input-files to be ordered in groups of size "num-agents".

## General options

* --format: The output file format. Current options:["svg", "png", "pdf"]
* --dot-size: The dot-size used by matplotlib. Changes the width of graph lines
* --label: Assigns a label to a stats file. Labels must have the same order as input-files, and there must be as many labels as input-files
* --run: Only plot for a specific run number ("run" means "iteration", when plotting stats files from training)
* --problem: Only plot for a specific problem instance (Problem instances are numbered as in the training or validation problem set file)
* --median: If this flag is used, the median over best fitness / function values is used. Else, the median is used
* --log: If this flug is used, the y-scale is logarithmic
* --min: If this flag is used, the lowest fitness value per generation is treated as the best fitness value. Else, the highest fitness value is trated as the best fitness value.
* --color-map: The color map to use (see https://matplotlib.org/examples/color/colormaps_reference.html)
* --color-min: Limits the range of colors to be used (between 0 and 1)
* --color-max: Limits the range of colors to be used (between 0 and 1)
* --xlabel: The label of the x-axis
* --ylabel: The label of the y-axis
* --legend-location: The position of the legend, using standard matplotlib keywords (see https://matplotlib.org/api/legend_api.html)
* --legend-title: Optional title of the legend
* --legend-fontsize: Fontsize inside the legend
* --axis-fontsize: Fontsize for axis labels
* --legend-columns: Number of columns inside the legend
* --alpha: The opacity of plotted graphs
